<div id="diffModal" class="modal fade" tabindex="-1" role="dialog">
    <!--
      ~ Copyright 2023 Apollo Authors
      ~
      ~ Licensed under the Apache License, Version 2.0 (the "License");
      ~ you may not use this file except in compliance with the License.
      ~ You may obtain a copy of the License at
      ~
      ~ http://www.apache.org/licenses/LICENSE-2.0
      ~
      ~ Unless required by applicable law or agreed to in writing, software
      ~ distributed under the License is distributed on an "AS IS" BASIS,
      ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      ~ See the License for the specific language governing permissions and
      ~ limitations under the License.
      ~
    -->
    <div class="modal-dialog">
        <div class="modal-content no-radius">
            <div class="modal-header panel-primary">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>

                <h4 class="modal-title">{{'Config.Diff.Title' | translate }}</h4>
            </div>
            <div class="modal-body form-horizontal" style="margin-left: 10px;margin-right: 10px;">
                <div class="row">
                    <div class="row" style="margin-top: 10px;">
                        <div class="form-horizontal">
                            <div class="col-sm-12">
                                <label class="control-label">
                                    <input type="text" class="comment-toggle"
                                           ng-model="searchKey"
                                           placeholder="{{'Config.Diff.SearchKey' | translate }}">
                                </label>
                                <label class="control-label">
                                    <input type="checkbox" class="comment-toggle" checked="true" ng-checked="onlyShowDiffKeys"
                                           ng-click="onlyShowDiffKeys=!onlyShowDiffKeys">
                                    {{'Config.Diff.OnlyShowDiffKeys' | translate }}
                                </label>
                            </div>
                            <div class="col-sm-12 diff-content">
                                <table class="table table-bordered table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <td>Key</td>
                                        <td>
                                            Value ({{'Config.Diff.MasterVersion' | translate }})
                                        </td>
                                        <td>
                                            Value ({{'Config.Diff.GrayscaleVersion' | translate }})
                                        </td>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="(key, itemsKeyedByVersion) in itemsKeyedByKey" ng-if="(searchKey === '' || key.indexOf(searchKey) !== -1 ) && (!onlyShowDiffKeys || (onlyShowDiffKeys && !allNamespaceValueEqualed[key]))">
                                        <td width="15%" ng-bind="key"></td>
                                        <td ng-repeat="version in versions"
                                            ng-bind="(itemsKeyedByVersion[version] || {}).value">
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
